services:
  qbit-arr:
    build: .
    container_name: qbit-arr
    ports:
      - "8000:8000"
    volumes:
      # Mount media directories (read-write to allow file deletion)
      - /data/media:/data/media
      # Mount config file
      - ./config.yaml:/app/config.yaml
    environment:
      # Or use environment variables instead of config file
      - QBIT_HOST=${QBIT_HOST:-localhost}
      - QBIT_PORT=${QBIT_PORT:-8080}
      - QBIT_USERNAME=${QBIT_USERNAME:-admin}
      - QBIT_PASSWORD=${QBIT_PASSWORD}
      - RADARR_HOST=${RADARR_HOST:-localhost}
      - RADARR_PORT=${RADARR_PORT:-7878}
      - RADARR_API_KEY=${RADARR_API_KEY}
      - SONARR_HOST=${SONARR_HOST:-localhost}
      - SONARR_PORT=${SONARR_PORT:-8989}
      - SONARR_API_KEY=${SONARR_API_KEY}
    restart: unless-stopped
    network_mode: host  # Use host network to access localhost services
